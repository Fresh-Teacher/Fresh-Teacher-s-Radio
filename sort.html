<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Airport Schedule</title>
  <style>
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    th {
      background-color: #f2f2f2;
    }

    .finished {
      background-color: #dff0d8;
    }

    .current {
      background-color: #fcf8e3;
      animation: blink 1s infinite;
    }

    .coming {
      background-color: #d9edf7;
    }

    @keyframes blink {
      50% {
        opacity: 0;
      }
    }
  </style>
</head>
<body>

  <h1>Airport Schedule</h1>

  <table>
    <thead>
      <tr>
        <th>Flight Status</th>
        <th>Departure</th>
        <th>Destination</th>
        <th>Departure Time</th>
      </tr>
    </thead>
    <tbody>
      <tr class="finished">
        <td>Finished</td>
        <td>Entebbe</td>
        <td>London</td>
        <td>12:00 PM</td>
      </tr>
      <tr class="current">
        <td>Current</td>
        <td>Kampala</td>
        <td>Dubai</td>
        <td>3:00 PM</td>
      </tr>
      <tr class="coming">
        <td>Coming</td>
        <td>Nairobi</td>
        <td>Paris</td>
        <td>6:00 PM</td>
      </tr>
      <!-- Add 7 more flights -->
      <!-- Example: -->
      <tr class="finished">
        <td>Finished</td>
        <td>City1</td>
        <td>City2</td>
        <td>2:30 PM</td>
      </tr>
      <tr class="coming">
        <td>Coming</td>
        <td>City3</td>
        <td>City4</td>
        <td>5:30 PM</td>
      </tr>
      <!-- Repeat similar rows for additional flights -->
    </tbody>
  </table>
<script>
  // Function to calculate time difference in minutes
  function getTimeDifferenceInMinutes(departureTime, arrivalTime) {
    const now = new Date();
    
    // Set the UTC offset for Kampala (EAT)
    const kampalaOffset = 3; // UTC+3

    const departure = new Date(
      now.getUTCFullYear(),
      now.getUTCMonth(),
      now.getUTCDate(),
      ...departureTime.split(':')
    );
    
    const arrival = new Date(
      now.getUTCFullYear(),
      now.getUTCMonth(),
      now.getUTCDate(),
      ...arrivalTime.split(':')
    );

    // Adjust departure and arrival time for Kampala's UTC offset
    departure.setUTCHours(departure.getUTCHours() - kampalaOffset);
    arrival.setUTCHours(arrival.getUTCHours() - kampalaOffset);

    const differenceInMilliseconds = departure - now;
    const isWithinTimeSlot = now >= departure && now <= arrival;

    return {
      differenceInMinutes: Math.floor(differenceInMilliseconds / (60 * 1000)),
      isWithinTimeSlot,
    };
  }

  // Function to update the blinking effect based on time difference
  function updateBlinkingEffect() {
    const rows = document.querySelectorAll('tr.current');
    rows.forEach(row => {
      const departureTime = row.querySelector('td:nth-child(4)').textContent;
      const arrivalTime = row.querySelector('td:nth-child(5)').textContent;
      const { differenceInMinutes, isWithinTimeSlot } = getTimeDifferenceInMinutes(departureTime, arrivalTime);

      if (isWithinTimeSlot) {
        row.classList.add('blinking');
      } else {
        row.classList.remove('blinking');
      }
    });
  }

  // Initial update on page load
  updateBlinkingEffect();

  // Update blinking effect every minute
  setInterval(updateBlinkingEffect, 60000);
</script>



</body>
</html>
